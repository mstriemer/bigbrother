{% extends "base.html" %}
{% load gameshow_tags %}

{% block "head" %}<link rel="stylesheet" type="text/css" href="/static/css/dashboard.css" />{% endblock %}

{% block "content" %}
<p><a href="{% url gameshow.views.dashboard %}">Back</a></p>
<div class="object-detail">
<h2>Points</h2>

{% for prediction in predictions %}
<h3>{{ prediction.event.name }} - {{ prediction.event.date }}</h3>
<table class="points-table">
    <tr>
        <th>Player</th>
        <th>Prediction Points</th>
        <th>Team Points</th>
        <th>Total Points</th>
    </tr>
    {% for user in users %}
    {% with prediction_points=user|user_prediction_match_points:prediction %}
    {% with team_points=user|user_team_match_points:prediction %}
    <tr>
        <td>{{ user.username }}</td>
        <td class="right-align">{{ prediction_points }}</td>
        <td class="right-align">{{ team_points }}</td>
        <td class="right-align">{{ prediction_points|add:team_points }}</td>
    </tr>
    {% endwith %}
    {% endwith %}
    {% endfor %}
</table>
{% endfor %}
</div>
{% endblock %}
